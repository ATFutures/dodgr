\begin{figure}[ht!]
    \psset{unit=8mm}
    \begin{center}
        \psset{griddots=0,gridlabels=7pt,subgriddiv=1}
        \newgray{lightgrey}{0.75}
        \begin{pspicture} (0,-0.5) (18,6)
            \cnodeput[fillstyle=solid,fillcolor=orange,linecolor=gray,linewidth=2pt] (0,3){A}{A}
            \cnodeput[fillstyle=solid,fillcolor=orange,linecolor=gray,linewidth=2pt] (6,3){B}{B}
            \cnodeput[fillstyle=solid,fillcolor=orange,linecolor=gray,linewidth=2pt] (12,3){C}{C}
            \cnodeput[fillstyle=solid,fillcolor=orange,linecolor=gray,linewidth=2pt] (18,3){D}{D}

            \rput(3,4){\rnode{n2}{2}}
            \rput(9,4){\rnode{n3}{3}}
            \rput(15,4){\rnode{n4}{4}}
            \rput(3,5){\rnode{n12}{12}}
            \rput(12,5){\rnode{n13}{13}}
            \rput(9,6){\rnode{n10}{10}}

            \rput(3,2){\rnode{n5}{5}}
            \rput(9,2){\rnode{n6}{6}}
            \rput(15,2){\rnode{n7}{7}}
            \rput(3,1){\rnode{n15}{15}}
            \rput(12,1){\rnode{n14}{14}}
            \rput(9,0){\rnode{n11}{11}}

            \nccurve[linewidth=2pt,nodesep=5pt,angleA=40,angleB=180,arrowsize=1.5pt 4]{->}{A}{n12}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=0,angleB=140,arrowsize=1.5pt 4]{->}{n12}{B}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=60,angleB=180,arrowsize=1.5pt 4]{->}{B}{n13}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=0,angleB=120,arrowsize=1.5pt 4]{->}{n13}{D}

            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=40,angleB=180,arrowsize=1.5pt 8]{->}{A}{n2}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=140,arrowsize=1.5pt 8]{->}{n2}{B}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=40,angleB=180,arrowsize=1.5pt 8]{->}{B}{n3}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=140,arrowsize=1.5pt 8]{->}{n3}{C}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=40,angleB=180,arrowsize=1.5pt 8]{->}{C}{n4}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=140,arrowsize=1.5pt 8]{->}{n4}{D}

            \nccurve[linewidth=2pt,nodesep=5pt,angleA=-40,angleB=180,arrowsize=1.5pt 4]{<-}{A}{n15}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=0,angleB=220,arrowsize=1.5pt 4]{<-}{n15}{B}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=-60,angleB=180,arrowsize=1.5pt 4]{<-}{B}{n14}
            \nccurve[linewidth=2pt,nodesep=5pt,angleA=0,angleB=240,arrowsize=1.5pt 4]{<-}{n14}{D}

            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=-40,angleB=180,arrowsize=1.5pt 8]{<-}{A}{n5}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=220,arrowsize=1.5pt 8]{<-}{n5}{B}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=-40,angleB=180,arrowsize=1.5pt 8]{<-}{B}{n6}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=220,arrowsize=1.5pt 8]{<-}{n6}{C}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=-40,angleB=180,arrowsize=1.5pt 8]{<-}{C}{n7}
            \nccurve[linewidth=0.5pt,linestyle=dashed,nodesep=5pt,linecolor=lightgrey,angleA=0,angleB=220,arrowsize=1.5pt 8]{<-}{n7}{D}

            \nccurve[linewidth=1pt,linestyle=dashed,linecolor=lightgrey,nodesep=5pt,angleA=60,angleB=180,arrowsize=1.5pt 4]{->}{A}{n10}
            \nccurve[linewidth=1pt,linestyle=dashed,linecolor=lightgrey,nodesep=5pt,angleA=0,angleB=120,arrowsize=1.5pt 4]{->}{n10}{D}

            \nccurve[linewidth=1pt,linestyle=dashed,linecolor=lightgrey,nodesep=5pt,angleA=-60,angleB=180,arrowsize=1.5pt 4]{<-}{A}{n11}
            \nccurve[linewidth=1pt,linestyle=dashed,linecolor=lightgrey,nodesep=5pt,angleA=0,angleB=240,arrowsize=1.5pt 4]{<-}{n11}{D}
        \end{pspicture}
    \end{center}

    \captionsetup{format=hang}
    \caption{Network of Fig.~\ref{fig:1} contracted through removal of vertices B \& C.}
\label{fig:4}
\end{figure}
